var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},mycore;!function(a){!function(a){!function(b){var c=function(b){function c(a){void 0===a&&(a="MyCoReDesktopToolbar"),b.call(this,a)}return __extends(c,b),c.prototype.addComponents=function(){this._viewSelectGroup=new a.widgets.toolbar.ToolbarGroup("viewSelectGroup"),this.addGroup(this._sidebarControllGroup),this.addGroup(this._zoomControllGroup),this.addGroup(this._layoutControllGroup),this.addGroup(this._viewSelectGroup),this.addGroup(this._imageChangeControllGroup),this.addGroup(this._actionControllGroup),this.addGroup(this._closeViewerGroup),this.addGroup(this._searchGroup)},c.prototype.addViewSelectButton=function(){this.viewSelectChilds=new Array,this.viewSelectChilds.push({id:"imageView",label:"imageView"}),this.viewSelectChilds.push({id:"mixedView",label:"mixedView"}),this.viewSelectChilds.push({id:"textView",label:"textView"}),this.viewSelect=new a.widgets.toolbar.ToolbarDropdownButton("viewSelect","viewSelect",this.viewSelectChilds,"eye-open"),this._viewSelectGroup.addComponent(this.viewSelect)},c.prototype.addSelectionSwitchButton=function(){this.selectionSwitchButton=new a.widgets.toolbar.ToolbarButton("selectionSwitchButton","",""),this.selectionSwitchButton.icon="text-width"},c}(b.MyCoReBasicToolbarModel);b.MyCoReDesktopToolbarModel=c}(a.model||(a.model={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={}));var mycore;!function(a){!function(b){!function(b){var c=function(c){function d(a){c.call(this),this._settings=a}return __extends(d,c),Object.defineProperty(d.prototype,"handlesEvents",{get:function(){return[]},enumerable:!0,configurable:!0}),d.prototype.init=function(){this.trigger(new b.events.ProvideToolbarModelEvent(this,new a.viewer.model.MyCoReDesktopToolbarModel))},d}(b.ViewerComponent);b.MyCoReDesktopToolbarProviderComponent=c}(b.components||(b.components={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={})),addViewerComponent(mycore.viewer.components.MyCoReDesktopToolbarProviderComponent);var mycore;!function(a){!function(a){!function(a){var b=function(b){function c(a){b.call(this),this._settings=a,this._currentZoom=-1,this._currentRotation=-1}return __extends(c,b),c.prototype.init=function(){this._informationBar=jQuery("<div></div>"),this._informationBar.addClass("informationBar"),this._scale=jQuery("<span></span>"),this._scale.addClass("scale"),this._scale.appendTo(this._informationBar),this._scaleEditForm=jQuery("<div class='form-group'></div>"),this._scaleEdit=jQuery("<input type='text'>"),this._scaleEdit.addClass("scale form-control"),this._scaleEdit.appendTo(this._scaleEditForm),this.initScaleChangeLogic(),this._informationBar.addClass("well"),this._imageLabel=jQuery("<span></span>"),this._imageLabel.addClass("imageLabel"),this._imageLabel.appendTo(this._informationBar),this._imageLabel.mousedown(Utils.stopPropagation).mousemove(Utils.stopPropagation).mouseup(Utils.stopPropagation),this._rotation=jQuery("<span>0 °</span>"),this._rotation.addClass("rotation"),this._rotation.appendTo(this._informationBar),this.trigger(new a.events.ComponentInitializedEvent(this)),this.trigger(new a.events.ShowContentEvent(this,this._informationBar,a.events.ShowContentEvent.DIRECTION_SOUTH,30)),this.trigger(new a.events.WaitForEvent(this,a.events.PageLayoutChangedEvent.TYPE)),this.trigger(new a.events.WaitForEvent(this,a.events.ImageChangedEvent.TYPE)),this.trigger(new a.events.WaitForEvent(this,a.events.ViewportInitializedEvent.TYPE)),this.trigger(new a.events.WaitForEvent(this,a.events.StructureModelLoadedEvent.TYPE))},c.prototype.initScaleChangeLogic=function(){var a=this;this._scale.click(function(){a._scale.detach(),a._scaleEdit.val(100*a._pageLayout.getCurrentPageZoom()+""),a._scaleEdit.appendTo(a._informationBar),Utils.selectElementText(a._scaleEdit.get(0)),a._scaleEdit.keyup(function(b){var c=a.validateScaleEdit();13==b.keyCode?c&&(a.applyNewZoom(),a.endEdit()):27==b.keyCode&&a.endEdit()})})},c.prototype.endEdit=function(){this._scaleEdit.remove(),this._scale.appendTo(this._informationBar)},c.prototype.applyNewZoom=function(){var a=this._scaleEdit.val().trim();void 0!==this._pageLayout&&null!=this._pageLayout&&this._pageLayout.setCurrentPageZoom(a/100)},c.prototype.validateScaleEdit=function(){var a=this._scaleEdit.val().trim();if(isNaN(a))return this._scaleEdit.addClass("error"),!1;var b=1*a;return b<50||b>400?(this._scaleEdit.addClass("error"),!1):(this._scaleEdit.removeClass("error"),!0)},Object.defineProperty(c.prototype,"handlesEvents",{get:function(){var b=new Array;return b.push(a.events.ImageChangedEvent.TYPE),b.push(a.events.StructureModelLoadedEvent.TYPE),b.push(a.events.ViewportInitializedEvent.TYPE),b.push(a.events.PageLayoutChangedEvent.TYPE),b},enumerable:!0,configurable:!0}),c.prototype.handle=function(b){var c=this;if(b.type==a.events.StructureModelLoadedEvent.TYPE&&this.updateLayoutInformation(),b.type==a.events.ViewportInitializedEvent.TYPE){var d=b;d.viewport.scaleProperty.addObserver({propertyChanged:function(a,b){c.updateLayoutInformation()}}),d.viewport.rotationProperty.addObserver({propertyChanged:function(a,b){c.updateLayoutInformation()}}),d.viewport.positionProperty.addObserver({propertyChanged:function(a,b){c.updateLayoutInformation()}}),d.viewport.sizeProperty.addObserver({propertyChanged:function(a,b){c.updateLayoutInformation()}})}if(b.type==a.events.PageLayoutChangedEvent.TYPE){var e=b;this._pageLayout=e.pageLayout,this.updateLayoutInformation()}if(b.type==a.events.ImageChangedEvent.TYPE){var f=b;if(void 0!==f.image&&null!=f.image){var g=f.image.orderLabel||f.image.order;null!=f.image.uniqueIdentifier&&(g+=" - "+f.image.uniqueIdentifier),this._imageLabel.text(g)}this.updateLayoutInformation()}},c.prototype.updateLayoutInformation=function(){if(void 0!==this._pageLayout){var a=this._pageLayout.getCurrentPageZoom();this._currentZoom!=a&&(this._scale.text(Math.round(100*a)+"%"),this._currentZoom=a);var b=this._pageLayout.getCurrentPageRotation();this._currentRotation!=b&&(this._rotation.text(b+" °"),this._currentRotation=b)}},Object.defineProperty(c.prototype,"container",{get:function(){return this._informationBar},enumerable:!0,configurable:!0}),c}(a.ViewerComponent);a.MyCoReImageInformationComponent=b}(a.components||(a.components={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={})),addViewerComponent(mycore.viewer.components.MyCoReImageInformationComponent);var mycore;!function(a){!function(a){!function(a){!function(b){var c=function(b){function c(){b.apply(this,arguments),this._rotation=0,this._currentPage=0}return __extends(c,b),Object.defineProperty(c.prototype,"relocated",{get:function(){return!1},enumerable:!0,configurable:!0}),c.prototype.syncronizePages=function(){var a=this,b=this._pageController.viewport,c=this.getPageHeightWithSpace(),d=this._model.pageCount/2;this.correctViewport();var e=90==this._rotation||270==this._rotation?1:2,f=1==e?2:1;this._horizontalScrollbar.areaSize=this._pageDimension.width*e,this._verticalScrollbar.areaSize=d*this.getPageHeightWithSpace(),this._horizontalScrollbar.viewSize=this._pageController.viewport.size.width/this._pageController.viewport.scale,this._verticalScrollbar.viewSize=this._pageController.viewport.size.height/this._pageController.viewport.scale,this._horizontalScrollbar.position=b.position.x-b.size.width/b.scale/2+this._pageDimension.width/f,this._verticalScrollbar.position=b.position.y-b.size.height/b.scale/2;for(var g=2,h=b.size.height/b.scale,i=b.position.y-h/2,j=b.position.y+h/2,k=Math.floor(i/c)*g,l=Math.ceil(j/c)*g+(this.relocated?1:0),m=this._insertedPages.slice(0),n=k;n<=l;n++)this._model.children.has(n)&&-1==m.indexOf(n)?m.push(n):0<n&&n<=this._model.pageCount&&this._pageLoader(n);m.forEach(function(b){a.updatePage(b)})},c.prototype.clear=function(){var a=this,b=this._pageController.getPages().slice(0);this._insertedPages.splice(0,this._insertedPages.length),b.forEach(function(b){a._pageController.removePage(b)})},c.prototype.fitToScreen=function(){var a=this._pageController.viewport;if(0!=a.size.width&&0!=a.size.height){var b=this.getDoublePageRect(this.getCurrentPage());a.setRect(b)}},c.prototype.calculatePageAreaInformation=function(b){var c=this._model.children.get(b).size,d=new a.canvas.PageAreaInformation,e=this.getPageRect(b),f=this._model.children.get(b);d.scale=Math.min(this._originalPageDimension.width/c.width,this._originalPageDimension.height/c.height);var g=f.size.scale(d.scale);return d.position=new Position2D(e.pos.x+g.width/2,e.pos.y+g.height/2),d.rotation=this._rotation,d},c.prototype.checkShouldBeInserted=function(a){var b=this._pageController.viewport.asRectInArea(),c=this.getImageMiddle(a),d=new Rect(new Position2D(c.x-this._pageDimension.width,c.y-this._pageDimension.height/2),new Size2D(2*this._pageDimension.width,this._pageDimension.height));return null!=b.getIntersection(d)||null!=this.getCurrentOverview().getIntersection(d)},c.prototype.fitToWidth=function(a){void 0===a&&(a=!1);var b=this.getDoublePageRect(this.getCurrentPage());this._pageController.viewport.position=b.getMiddlePoint(),this._pageController.viewport.scale=this._pageController.viewport.size.width/b.size.width},c.prototype.getCurrentPage=function(){for(var a=2,b=this._pageController.viewport,c=this.getPageHeightWithSpace(),d=(this._model.pageCount,b.size.height/b.scale),e=b.position.y-d/2,f=b.position.y+d/2,g=Math.floor(e/c)*a,h=Math.ceil(f/c)*a+(this.relocated?1:0),i=-1,j=-1,k=!1,l=b.asRectInArea(),m=g;m<=h;m++){var n=this.getPageRect(m).getIntersection(l);if(null!=n&&(!k||m==this._currentPage)){var o=n.size.getSurface();j<o&&(i=m,j=o,n.intersects(b.position)&&(k=!0))}}return Math.max(-1,i)},c.prototype.jumpToPage=function(a){this.getImageMiddle(a);this._currentPage=a,this._pageController.viewport.setRect(this.getPageRect(a))},c.prototype.getPageHeightSpace=function(){return this._pageDimension.height/100*10},c.prototype.getPageHeightWithSpace=function(){var a=90==this._rotation||270==this._rotation?2:1;return this._pageDimension.height*a+this.getPageHeightSpace()},c.prototype.getImageMiddle=function(a){return this.getPageRect(a).getMiddlePoint()},c.prototype.correctViewport=function(){var a=this._pageController.viewport,b=90==this._rotation||270==this._rotation?1:2,c=this.getCurrentPageScaling();if(-1!=c){var d=this._pageController.viewport.size.width/(this._pageDimension.width*b),e=Math.min(this._pageController.viewport.size.height/(2*this._pageDimension.height),d);a.scale<e&&(a.stopAnimation(),a.scale=e);a.scale*c>4&&(a.stopAnimation(),a.scale=4/c)}var f=a.size.scale(1/a.scale),g=1,h=this._model.pageCount/2*this.getPageHeightWithSpace(),i=Math.min(Math.max(a.position.y,g),h);if(f.width>this._pageDimension.width*b){var j=new Position2D(0,i);a.position.equals(j)||(a.position=new Position2D(0,i))}else{var k=-this._pageDimension.width+f.width/2,l=this._pageDimension.width-f.width/2,m=Math.max(k,Math.min(l,a.position.x)),j=new Position2D(m,i);a.position.equals(j)||(a.position=j)}},c.prototype.scrollhandler=function(){if(null==this._pageController.viewport.currentAnimation){var a=90==this._rotation||270==this._rotation?2:1,b=this._pageController.viewport,c=new Position2D(this._horizontalScrollbar.position,this._verticalScrollbar.position),d=c.x+b.size.width/b.scale/2-this._pageDimension.width/a;b.position=new Position2D(d,c.y+b.size.height/b.scale/2)}},c.prototype.rotate=function(a){var b=this.getCurrentPage();this._pageDimension=this._originalPageDimension.getRotated(a),this._rotation=a,this.clear(),this.syncronizePages(),this.jumpToPage(b)},c.prototype.getLabelKey=function(){return"doublePageLayout"},c.prototype.getCurrentOverview=function(){return this.getDoublePageRect(this.getCurrentPage())},c.prototype.getDoublePageRect=function(a){var b,c=(Math.floor((a-1+(this.relocated?1:0))/2),(a-1+(this.relocated?1:0))%2==0);b=c?a:a-1;var d=this.getPageRect(b),e=this.getPageRect(b+1);return Rect.getBounding(d,e)},c.prototype.getPageRect=function(a){var b=Math.floor((a-1+(this.relocated?1:0))/2),c=(a-1+(this.relocated?1:0))%2==0,d=this.getRealPageDimension(a),e=b*this.getPageHeightWithSpace();switch(this._rotation){case 0:case 180:return(0==this._rotation?c:!c)?new Rect(new Position2D(-d.width,e),d):new Rect(new Position2D(0,e),d);case 90:case 270:return(90==this._rotation?c:!c)?new Rect(new Position2D(-d.width/2,e-d.height/2),d):new Rect(new Position2D(-d.width/2,e+this._pageDimension.height-d.height/2),d)}},c.prototype.next=function(){var a=this.getCurrentPage(),b=(a-1+(this.relocated?1:0))%2==0&&(0==this._rotation||180==this._rotation),c=Math.max(Math.min(a+(b?2:1),this._model.pageCount),0);this.jumpToPage(c)},c.prototype.previous=function(){var a=this.getCurrentPage(),b=(a-1+(this.relocated?1:0))%2==0&&(0==this._rotation||180==this._rotation),c=Math.max(Math.min(a-(b?1:2),this._model.pageCount),0);this.jumpToPage(c)},c.prototype.getCurrentPageRotation=function(){return this._rotation},c.prototype.getCurrentPageZoom=function(){var a=this.getCurrentPageScaling();return-1!==a?this._pageController.viewport.scale*a:this._pageController.viewport.scale},c.prototype.setCurrentPageZoom=function(a){if(void 0!==this._pageController){var b=this.getCurrentPageScaling();this._pageController.viewport.scale=a/b}},c.prototype.getCurrentPageScaling=function(){if(void 0===this._model)return-1;var a=this.getCurrentPage();if(-1!=a&&this._model.children.has(a)){var b=this._model.children.get(a),c=this._pageController.getPageAreaInformation(b);if(void 0!==c)return c.scale}return-1},c.prototype.setCurrentPositionInPage=function(a){var b=this._pageController.viewport.asRectInArea(),c=this.getCurrentPage(),d=this.getImageMiddle(c),e=this._pageDimension,f=new Position2D(d.x-e.width/2,d.y-e.height/2);this._pageController.viewport.position=new Position2D(f.x+a.x+b.size.width/2,f.y+a.y+b.size.height/2)},c}(b.PageLayout);b.DoublePageLayout=c}(a.canvas||(a.canvas={}))}(a.widgets||(a.widgets={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={}));var mycore;!function(a){!function(a){!function(a){!function(a){var b=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),Object.defineProperty(b.prototype,"relocated",{get:function(){return!0},enumerable:!0,configurable:!0}),b.prototype.getLabelKey=function(){return"doublePageRelocatedLayout"},b}(a.DoublePageLayout);a.DoublePageRelocatedLayout=b}(a.canvas||(a.canvas={}))}(a.widgets||(a.widgets={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={}));var mycore;!function(a){!function(a){!function(b){var c=function(c){function d(a){c.call(this),this._settings=a}return __extends(d,c),Object.defineProperty(d.prototype,"handlesEvents",{get:function(){return[]},enumerable:!0,configurable:!0}),d.prototype.init=function(){this.trigger(new b.events.ProvidePageLayoutEvent(this,new a.widgets.canvas.SinglePageLayout,!0)),this.trigger(new b.events.ProvidePageLayoutEvent(this,new a.widgets.canvas.DoublePageLayout)),this.trigger(new b.events.ProvidePageLayoutEvent(this,new a.widgets.canvas.DoublePageRelocatedLayout))},d}(b.ViewerComponent);b.MyCoRePageDesktopLayoutProviderComponent=c}(a.components||(a.components={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={})),addViewerComponent(mycore.viewer.components.MyCoRePageDesktopLayoutProviderComponent);var mycore;!function(a){!function(a){!function(a){var b=function(){function a(){}return a.prototype.index=function(a,b,c){this.model=a,this.textContentResolver=b,this.processIndicator=c},a.prototype.search=function(a,b,c,d,e){throw new ViewerError(this+" doesnt implements search();",{searchMethod:this.search})},a}();a.MyCoReViewerSearcher=b;var c=function(){function a(a,b,c){this.arr=a,this.matchWords=b,this.context=c}return a}();a.ResultObject=c}(a.model||(a.model={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={}));var mycore;!function(a){!function(a){!function(a){!function(a){var b=function(a){function b(c,d){a.call(this,c,b.TYPE),this._searcher=d}return __extends(b,a),Object.defineProperty(b.prototype,"searcher",{get:function(){return this._searcher},enumerable:!0,configurable:!0}),b.TYPE="ProvideViewerSearcherEvent",b}(a.MyCoReImageViewerEvent);a.ProvideViewerSearcherEvent=b}(a.events||(a.events={}))}(a.components||(a.components={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={}));var mycore;!function(a){!function(a){!function(a){!function(a){var b=function(){function a(){this.selected=[],this.areas=new MyCoReMap}return a.prototype.select=function(a,b){this.selected.push(new c(a,b))},a.prototype.add=function(a,b){var d=this.areas.get(a);null==d&&(d=new Array,this.areas.set(a,d)),d.push(new c(a,b))},a.prototype.clear=function(){this.selected=[],this.areas.clear()},a.prototype.clearSelected=function(){this.selected=[]},a.prototype.draw=function(a,b,c,d){var e=this;void 0===d&&(d=!1),this.selected.forEach(function(d){null!=e.selected&&b===d.page&&e.drawWithPadding(a,[d],c)}),this.areas.hasThen(b,function(b){e.drawWords(a,b)})},a.prototype.drawWithPadding=function(a,b,c){a.save(),a.strokeStyle="rgba(244, 244, 66, 0.8)";var d=Math.max(c.width/200,c.height/200)*window.devicePixelRatio;a.lineWidth=d,a.beginPath(),b.forEach(function(b){var c=b.rect.getX()-d/2,e=b.rect.getY()-d/2,f=b.rect.getWidth()+d,g=b.rect.getHeight()+d;a.rect(c,e,f,g)}),a.closePath(),a.stroke(),a.restore()},a.prototype.drawWords=function(a,b){a.save(),a.fillStyle="rgba(179,216,253,0.6)",a.beginPath(),b.forEach(function(b){a.rect(b.rect.getX(),b.rect.getY(),b.rect.getWidth(),b.rect.getHeight())}),a.closePath(),a.fill(),a.restore()},a}();a.SearchResultCanvasPageLayer=b;var c=function(){function a(a,b){this.page=a,this.rect=b}return a}()}(a.canvas||(a.canvas={}))}(a.widgets||(a.widgets={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={}));var mycore;!function(a){!function(b){!function(c){var d=function(d){function e(a){var e=this;d.call(this),this._settings=a,this._sidebarLabel=jQuery("<span>Suche</span>"),this._model=null,this._valueToApply=null,this._containerVisible=!1,this._indexPrepared=!1,this._indexPreparing=!1,this._textPresent=!1,this._toolbarTextInput=new b.widgets.toolbar.ToolbarTextInput("search","",""),this._searcher=null,this._imageHrefImageMap=new MyCoReMap,this._searchResultCanvasPageLayer=new b.widgets.canvas.SearchResultCanvasPageLayer,this._containerVisibleModelLoadedSync=Utils.synchronize([function(a){return null!=a._model},function(a){return a._containerVisible},function(a){return null!=a._searcher},function(a){return!e._indexPrepared&&!e._indexPreparing}],function(a){return a._prepareIndex(a._model)}),this._toolbarLoadedLanguageModelLoadedSync=Utils.synchronize([function(a){return null!=a._tbModel},function(a){return null!=a._languageModel},function(a){return null!=a._model},function(a){return a._textPresent}],function(a){e.trigger(new c.events.AddCanvasPageLayerEvent(e,1,e._searchResultCanvasPageLayer));var b=a._languageModel.getTranslation("sidebar.search");e._toolbarTextInput.placeHolder=a._languageModel.getTranslation("search.placeHolder"),a._sidebarLabel.text(b),a._tbModel._searchGroup.addComponent(e._toolbarTextInput),null!=e._valueToApply&&(e._toolbarTextInput.value=e._valueToApply,e._valueToApply=null)}),this._tbModel=null,this._languageModel=null,this._panel=null,this._progressbar=null,this._progressbarInner=null,this._searchTextTimeout=-1,this._searchAreaReady=!1}return __extends(e,d),Object.defineProperty(e.prototype,"container",{get:function(){return this._container},enumerable:!0,configurable:!0}),e.prototype.initSearchArea=function(){this._progressbar.parent().remove(),this._progressbar.remove(),this._container.css({"text-align":"left"}),this._searchContainer=jQuery("<ul class='list-group textSearch'></ul>"),this._searchContainer.appendTo(this.container),this._searchAreaReady=!0,this._search(this._toolbarTextInput.value)},e.prototype._search=function(a){var b=this;if(""==a){var d=this._settings.mobile?c.events.ShowContentEvent.DIRECTION_CENTER:c.events.ShowContentEvent.DIRECTION_EAST;this.trigger(new c.events.ShowContentEvent(this,this._container,d,0,this._sidebarLabel))}this._searchContainer.children().remove();var e=[];this._searcher.search(a,function(a){a.forEach(function(a){a.arr.forEach(function(a){return e.push(a)})});var d=null;a.forEach(function(a){if(!(a.arr.length<=0)){var e=jQuery("<li class='list-group-item'></li>"),f=jQuery("<a></a>").append(a.context.clone());e.append(f),b._searchContainer.append(e);var g=a.arr[0];if(!b._imageHrefImageMap.has(g.pageHref))return void console.log("Could not find page "+g.pageHref);var h=b._imageHrefImageMap.get(g.pageHref);f.click(function(){null!=d&&(d.removeClass("active"),b._searchResultCanvasPageLayer.clearSelected()),d=e,e.addClass("active"),a.arr.forEach(function(a){var c=Rect.fromXYWH(a.pos.x,a.pos.y,a.size.width,a.size.height);b._searchResultCanvasPageLayer.select(a.pageHref,c)}),b.trigger(new c.events.ImageSelectedEvent(b,h)),b.trigger(new c.events.RedrawEvent(b))});var i=jQuery("<span class='childLabel'>"+(h.orderLabel||h.order)+"</span>");e.append(i)}})},function(){b._searchResultCanvasPageLayer.clear(),e.forEach(function(a){var c=Rect.fromXYWH(a.pos.x,a.pos.y,a.size.width,a.size.height);b._searchResultCanvasPageLayer.add(a.pageHref,c)}),b.trigger(new c.events.RedrawEvent(b))})},e.prototype.init=function(){var a=this;this._container=jQuery("<div></div>"),this._container.css({overflowY:"scroll","text-align":"center"}),this._container.bind("iviewResize",function(){a.updateContainerSize()}),this._panel=jQuery("<div class='panel search'></div>"),this._container.append(this._panel),this._initProgressbar(),this._panel.append(this._progressbar),this._toolbarTextInput.getProperty("value").addObserver({propertyChanged:function(b,c){a.openSearch(),a._searchAreaReady&&(-1!=a._searchTextTimeout&&(window.clearTimeout(a._searchTextTimeout),a._searchTextTimeout=-1),a._searchTextTimeout=window.setTimeout(function(){a._search(a._toolbarTextInput.value)},300))}}),this.trigger(new c.events.WaitForEvent(this,c.events.ProvideViewerSearcherEvent.TYPE)),this.trigger(new c.events.WaitForEvent(this,c.events.StructureModelLoadedEvent.TYPE)),this.trigger(new c.events.WaitForEvent(this,c.events.ProvideToolbarModelEvent.TYPE)),this.trigger(new c.events.WaitForEvent(this,c.events.LanguageModelLoadedEvent.TYPE)),this.trigger(new c.events.WaitForEvent(this,c.events.RestoreStateEvent.TYPE))},e.prototype.updateContainerSize=function(){this._container.css({height:this._container.parent().height()-this._sidebarLabel.parent().outerHeight()+"px"})},Object.defineProperty(e.prototype,"handlesEvents",{get:function(){var b=new Array;return b.push(c.events.StructureModelLoadedEvent.TYPE),b.push(a.viewer.widgets.toolbar.events.DropdownButtonPressedEvent.TYPE),b.push(c.events.ProvideToolbarModelEvent.TYPE),b.push(c.events.LanguageModelLoadedEvent.TYPE),b.push(c.events.ShowContentEvent.TYPE),b.push(c.events.ProvideViewerSearcherEvent.TYPE),b.push(c.events.RequestStateEvent.TYPE),b.push(c.events.RestoreStateEvent.TYPE),b},enumerable:!0,configurable:!0}),e.prototype.handle=function(b){if(b.type==c.events.StructureModelLoadedEvent.TYPE){var d=b;this._model=d.structureModel,this._textPresent=d.structureModel._textContentPresent,this._toolbarLoadedLanguageModelLoadedSync(this),this._containerVisibleModelLoadedSync(this)}if(b.type==a.viewer.widgets.toolbar.events.DropdownButtonPressedEvent.TYPE){"search"==b.childId&&this.openSearch()}if(b.type==c.events.ProvideToolbarModelEvent.TYPE){var e=b;this._tbModel=e.model,this._toolbarLoadedLanguageModelLoadedSync(this)}if(b.type==c.events.LanguageModelLoadedEvent.TYPE){var f=b;this._languageModel=f.languageModel,this._toolbarLoadedLanguageModelLoadedSync(this)}if(b.type==c.events.ShowContentEvent.TYPE){var g=b;g.containerDirection==c.events.ShowContentEvent.DIRECTION_EAST&&g.content==this._container&&(0==g.size?(this._searchResultCanvasPageLayer.clear(),this.trigger(new c.events.RedrawEvent(this))):this._searchAreaReady&&this._toolbarTextInput.value.length>0&&this._search(this._toolbarTextInput.value))}if(b.type==c.events.ProvideViewerSearcherEvent.TYPE){var h=b;this._searcher=h.searcher,this._containerVisibleModelLoadedSync(this)}if(b.type==c.events.RequestStateEvent.TYPE){var i=b;if(null!=this._searchAreaReady){var j=this._toolbarTextInput.value;null!=j&&""!=j&&i.stateMap.set("q",j)}}if(b.type==c.events.RestoreStateEvent.TYPE){var i=b;if(i.restoredState.has("q")){var k=i.restoredState.get("q");this.openSearch(),null!=this._searchAreaReady?this._toolbarTextInput.value=k:this._valueToApply=k}}},e.prototype.openSearch=function(){var a=this._settings.mobile?c.events.ShowContentEvent.DIRECTION_CENTER:c.events.ShowContentEvent.DIRECTION_EAST;this.trigger(new c.events.ShowContentEvent(this,this._container,a,-1,this._sidebarLabel)),this.updateContainerSize(),this._containerVisible=!0,this._containerVisibleModelLoadedSync(this)},e.prototype._prepareIndex=function(a){var b=this;this._model._imageList.forEach(function(a){b._imageHrefImageMap.set(a.href,a)}),this._indexPreparing=!0,this._searcher.index(a,function(a,d){b.trigger(new c.events.RequestTextContentEvent(b,a,d))},function(a,c){b._updateLabel(a,c),c==a&&(b._indexPrepared=!0,b.initSearchArea())})},e.prototype._updateLabel=function(a,b){this._progressbarInner.attr({"aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":b}),this._progressbarInner.css({width:a/b*100+"%"})},e.prototype._initProgressbar=function(){this._progressbar=jQuery("<div></div>"),this._progressbar.addClass("progress"),this._progressbarInner=jQuery("<div></div>"),this._progressbarInner.addClass("progress-bar progress-bar-info"),this._progressbarInner.appendTo(this._progressbar),this._progressbarInner.attr({role:"progressbar"})},e}(c.ViewerComponent);c.MyCoReSearchComponent=d}(b.components||(b.components={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={})),addViewerComponent(mycore.viewer.components.MyCoReSearchComponent);var mycore;!function(a){!function(a){!function(a){!function(a){var b=function(){function a(a){this._fullTextProvider=a,this._fullTextInformationIndex=[],this._currentPosition=0,this._fullText=""}return a.prototype.addElement=function(b){var c=this._fullTextProvider(b);a.MATCH_WORD_REGEXP.lastIndex=0;for(var d;null!=(d=a.MATCH_WORD_REGEXP.exec(c));)this._fullTextInformationIndex[this._currentPosition+d.index]=b;" "==c.charAt(c.length-1)?(this._fullText+=c,this._currentPosition+=c.length):(this._fullText+=c+" ",this._currentPosition+=c.length+1)},a.prototype.search=function(b){var d="",e=b.split(/\s/).filter(function(a){return""!=a});e.forEach(function(c,e){d+=(0==e?"":"\\s")+(b.length<=3?a.MATCH_TEMPLATE_WORD_SHORT.replace("%TOKEN%",c):a.MATCH_TEMPLATE_WORD.replace("%TOKEN%",c))});var f,g=new RegExp(a.MATCH_TEMPLATE.replace("%WORDS%",d),a.MATCH_PARAMETER),h=new Array,i=1e3;if(b.length>0||b.replace(" ","").length>0)for(;(f=g.exec(this._fullText))&&i--;)this.extractResults(f,h,e);return new c(h,h.length)},a.prototype.extractResults=function(a,b,c){var e=a.index,f=a[0],g=f.split(" "),h=0,i=-1,j=this.getContext(e+f.length-f.length/2,c),k=null;do{void 0!==this._fullTextInformationIndex[e+h]&&(k=this._fullTextInformationIndex[e+h],b.push(new d([k],c,j))),i++,h+=g[i].length+1}while(i+1<g.length);return k},a.prototype.getContext=function(b,c){var d=this._fullText.substr(Math.max(0,b-a.DEFAULT_CONTEXT_SIZE/2),a.DEFAULT_CONTEXT_SIZE);return c=c.sort(function(a,b){return a.length-b.length}),c.forEach(function(b){""!=b&&(d=d.replace(new RegExp(b,"gim"),"<span class='"+a.TEXT_HIGHLIGHT_CLASSNAME+"'>$&</span>"))}),jQuery("<span>"+d+"</span>")},a.DEFAULT_CONTEXT_SIZE=100,a.TEXT_HIGHLIGHT_CLASSNAME="matched",a.MATCH_TEMPLATE_WORD="(\\b([a-zA-Z]*%TOKEN%[a-zA-Z]*)\\b)",a.MATCH_TEMPLATE_WORD_SHORT="(\\b%TOKEN%\\b)",a.MATCH_TEMPLATE="%WORDS%",a.MATCH_PARAMETER="gim",a.MATCH_WORD_REGEXP=new RegExp("\\b([a-zA-Z]+)\\b",a.MATCH_PARAMETER),a}();a.TextIndex=b;var c=function(){function a(a,b){this.results=a,this.count=b}return a}();a.SearchResult=c;var d=function(){function a(a,b,c){this.arr=a,this.matchWords=b,this.context=c}return a}();a.IndexResultObject=d}(a.index||(a.index={}))}(a.widgets||(a.widgets={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={}));var mycore;!function(a){!function(a){!function(b){var c=function(b){function c(){b.call(this),this._searchIndex=new a.widgets.index.TextIndex(function(a){return a.text})}return __extends(c,b),c.prototype.index=function(a,c,d){b.prototype.index.call(this,a,c,d),this.indexModel()},c.prototype.indexModel=function(){var a=this,b=this.textContentResolver,d=this.processIndicator,e=0;this.model.imageList.forEach(function(f,g){b(f.additionalHrefs.get(c.PDF_TEXT_HREF),function(b,c){e++,a.indexPage(c),d(e,a.model._imageList.length-1)})})},c.prototype.indexPage=function(a){var b=this;a.content.forEach(function(a){b._searchIndex.addElement(a)})},c.prototype.clearDoubleResults=function(a){var b={};return a.filter(function(a){var c=Utils.hash(a.context.text()+a.matchWords.join(""));return!(c in b)&&(b[c]=!0,!0)})},c.prototype.search=function(a,b,c,d,e){var f=this._searchIndex.search(a).results;f=this.clearDoubleResults(f),b(f),c(f.length)},c.PDF_TEXT_HREF="pdfText",c}(b.MyCoReViewerSearcher);b.MyCoReLocalIndexSearcher=c}(a.model||(a.model={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={}));var mycore;!function(a){!function(b){!function(b){var c=function(c){function d(a){c.call(this),this._settings=a}return __extends(d,c),Object.defineProperty(d.prototype,"handlesEvents",{get:function(){return[]},enumerable:!0,configurable:!0}),d.prototype.init=function(){"pdf"==this._settings.doctype&&this.trigger(new b.events.ProvideViewerSearcherEvent(this,new a.viewer.model.MyCoReLocalIndexSearcher))},d}(b.ViewerComponent);b.MyCoReLocalViewerIndexSearcherProvider=c}(b.components||(b.components={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={})),addViewerComponent(mycore.viewer.components.MyCoReLocalViewerIndexSearcherProvider);var mycore;!function(a){!function(a){!function(a){!function(a){var b=function(){function a(a,b,c,d){this.solrHandlerURL=a,this.derivateID=b,this.query=c,this.requestCallback=d,this.request=null,this._solrRequestResult=null,this._isComplete=!1}return Object.defineProperty(a.prototype,"solrRequestResult",{get:function(){return this._solrRequestResult},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isComplete",{get:function(){return this._isComplete},enumerable:!0,configurable:!0}),a.prototype.startRequest=function(){var a=this,b=this.buildRequestURL(),c={url:b,async:!0,success:function(b){a.isComplete||(a.processResponse(b),a.requestCallback(!0))},error:function(b,c,d){console.log(d),a.requestCallback(!1)}};this.request=jQuery.ajax(c)},a.prototype.abortRequest=function(){return this.isComplete?void console.debug("request is already complete!"):null==this.request||void 0===this.request?void console.debug("request object is null!"):(this.requestCallback=function(){},void this.request.abort("request abort"))},a.prototype.processResponse=function(a){this._isComplete=!0,this._solrRequestResult=a},a.prototype.buildRequestURL=function(){return ViewerFormatString(a.BASE_TEMPLATE,{solrHandlerURL:this.solrHandlerURL,query:this.query,derivateID:this.derivateID})},a.BASE_TEMPLATE="{solrHandlerURL}/{derivateID}?q={query}",a}();a.SolrSearchRequest=b}(a.solr||(a.solr={}))}(a.widgets||(a.widgets={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={}));var mycore;!function(a){!function(a){!function(b){var c=function(c){function e(a,b){c.call(this),this.solrHandlerURL=a,this.derivateId=b,this.resolver=null,this._altoHrefPageMap=new MyCoReMap,this._currentRequest=null}return __extends(e,c),e.prototype.index=function(a,b,d){var f=this;c.prototype.index.call(this,a,b,d),a._imageList.forEach(function(a){var b=a.additionalHrefs.get(e.TEXT_HREF);null!=b&&f._altoHrefPageMap.set(b,a)}),d(1,1),this.resolver=b},e.prototype.search=function(b,c,d,e,f){var g=this
;if(null==this._currentRequest||this._currentRequest.isComplete||this._currentRequest.abortRequest(),""==b)return void c([]);this._currentRequest=new a.widgets.solr.SolrSearchRequest(this.solrHandlerURL,this.derivateId,b,function(){console.log(g._currentRequest.solrRequestResult),c(g.extractSearchResults(b,g._currentRequest.solrRequestResult)),d()}),this._currentRequest.startRequest()},e.prototype.extractSearchResults=function(a,c){var f=this,g=[];return c.forEach(function(a){var c=a.id.split("/");c.shift();var h=c.join("/");if(!f._altoHrefPageMap.has(h))return void console.error("solr results contains a alto file which is not found in alto!");var i=f._altoHrefPageMap.get(h);a.hits.forEach(function(a){var c=a.hl.split("<em>").join("<em class='"+e.TEXT_HIGHLIGHT_CLASSNAME+"'>"),f=document.createElement("div");f.innerHTML=c;var h=a.positions.map(function(a){return a.content}),j=[];a.positions.forEach(function(a){j.push(new d(a,i.href))});var k=new b.ResultObject(j,h,jQuery(f));k.order=i.order,g.push(k)})}),g.sort(function(a,b){return a.order-b.order})},e.TEXT_HIGHLIGHT_CLASSNAME="matched",e.TEXT_HREF="AltoHref",e}(b.MyCoReViewerSearcher);b.MyCoReSolrSearcher=c;var d=function(){function a(a,b){this.angle=0,this.size=new Size2D(a.width,a.height),this.pos=new Position2D(a.xpos,a.vpos),this.fontFamily="arial",this.fontSize=this.size.height,this.fromBottomLeft=!1,this.pageHref=b}return a.prototype.toString=function(){return this.pageHref.toString+"-"+this.pos.toString()+"-"+this.size.toString()},a}();b.SolrAltoTextContent=d}(a.model||(a.model={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={}));var mycore;!function(a){!function(b){!function(c){var d=function(b){function d(a){b.call(this),this._settings=a,this._settings.solrHandlerURL=this._settings.webApplicationBaseURL+"/rsc/alto/highlight"}return __extends(d,b),Object.defineProperty(d.prototype,"handlesEvents",{get:function(){return[]},enumerable:!0,configurable:!0}),d.prototype.init=function(){"mets"==this._settings.doctype&&this.trigger(new c.events.ProvideViewerSearcherEvent(this,new a.viewer.model.MyCoReSolrSearcher(this._settings.solrHandlerURL,this._settings.derivate)))},d}(c.ViewerComponent);c.MyCoReSolrSearcherProvider=d;var e=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(b.MyCoReViewerSettings);c.SolrSearcherSettings=e}(b.components||(b.components={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={})),addViewerComponent(mycore.viewer.components.MyCoReSolrSearcherProvider);var mycore;!function(a){!function(a){!function(a){!function(a){var b=function(){function a(a){this._id=a,this.element=jQuery("<p></p>"),this.element.addClass("navbar-text")}return a.prototype.updateText=function(a){this.element.text(a)},a.prototype.getElement=function(){return this.element},a}();a.BootstrapTextView=b}(a.toolbar||(a.toolbar={}))}(a.widgets||(a.widgets={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={}));var mycore;!function(a){!function(a){!function(a){!function(a){var b=function(){function a(a){this._element=jQuery("<img />"),this._element.attr("data-id",a)}return a.prototype.updateHref=function(a){this._element.attr("src",a)},a.prototype.getElement=function(){return this._element},a}();a.BootstrapImageView=b}(a.toolbar||(a.toolbar={}))}(a.widgets||(a.widgets={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={}));var mycore;!function(a){!function(a){!function(a){!function(a){var b=function(){function a(a,b){this._element=jQuery("<div></div>"),this._element.attr("data-id",a),this._element.addClass("btn-group"),this._element.addClass("navbar-"+b)}return a.prototype.addChild=function(a){this._element.append(a)},a.prototype.removeChild=function(a){a.remove()},a.prototype.getElement=function(){return this._element},a}();a.BootstrapGroupView=b}(a.toolbar||(a.toolbar={}))}(a.widgets||(a.widgets={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={}));var mycore;!function(a){!function(a){!function(a){!function(a){var b=function(){function a(a){this._buttonElement=jQuery("<button></button>"),this._buttonElement.attr("data-id",a),this._buttonElement.addClass("btn btn-default navbar-btn"),this._buttonLabel=jQuery("<span></span>"),this._buttonLabel.appendTo(this._buttonElement),this._icon=jQuery("<i></i>"),this._attached=!1,this._lastIconClass="",this._lastButtonClass=null}return a.prototype.updateButtonLabel=function(a){this._buttonLabel.text(a),a.length>0?this._icon.addClass("textpresent"):this._icon.removeClass("textpresent")},a.prototype.updateButtonTooltip=function(a){this._buttonElement.attr("title",a)},a.prototype.updateButtonIcon=function(a){if(this._attached||null==a){if(this._attached&&null==a)return this._icon.remove(),void(this._attached=!1)}else this._icon.prependTo(this._buttonElement),this._attached=!0;this._icon.removeClass("glyphicon-"+this._lastIconClass),this._icon.removeClass(this._lastIconClass),this._icon.removeClass("icon-"+this._lastIconClass),0==a.indexOf("fa")?(this._icon.addClass("fa"),this._icon.addClass(a)):(this._icon.addClass("glyphicon"),this._icon.addClass("glyphicon-"+a),this._icon.addClass("icon-"+a)),this._lastIconClass=a},a.prototype.updateButtonClass=function(a){null!=this._lastButtonClass&&this._buttonElement.removeClass("btn-"+this._lastButtonClass),this._buttonElement.addClass("btn-"+a),this._lastButtonClass=a},a.prototype.updateButtonActive=function(a){var b=this._buttonElement.hasClass("active");a&&!b&&this._buttonElement.addClass("active"),!a&&b&&this._buttonElement.removeClass("active")},a.prototype.updateButtonDisabled=function(a){var b="disabled"==this._buttonElement.attr("disabled");a&&!b&&this._buttonElement.attr("disabled","disabled"),!a&&b&&this._buttonElement.removeAttr("disabled")},a.getBootstrapIcon=function(a){return"glyphicon-"+a},a.prototype.getElement=function(){return this._buttonElement},a}();a.BootstrapButtonView=b}(a.toolbar||(a.toolbar={}))}(a.widgets||(a.widgets={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={}));var mycore;!function(a){!function(a){!function(a){!function(a){var b=function(a){function b(b){a.call(this,b),this._buttonElement.attr("data-toggle","dropdown"),this._buttonElement.addClass("dropdown-toggle"),this._caret=jQuery("<span></span>"),this._caret.addClass("caret"),this._caret.appendTo(this._buttonElement),this._dropdownMenu=jQuery("<ul></ul>"),this._dropdownMenu.addClass("dropdown-menu"),this._dropdownMenu.attr("role","menu"),this._childMap=new MyCoReMap}return __extends(b,a),b.prototype.updateChilds=function(a){this._childMap.forEach(function(a,b){b.remove()}),this._childMap.clear();var b=!0;for(var c in a){var d=a[c],e=jQuery("");if("isHeader"in d&&d.isHeader)b||(e=e.add(jQuery("<li class='divider' value='divider-"+d.id+"' data-id=\"divider-"+d.id+'"></li>'))),e=e.add("<li class='dropdown-header disabled' value='divider-"+d.id+"' data-id=\"divider-"+d.id+'"><a>'+d.label+"</a></li>");else{var f=jQuery("<a>"+d.label+"</a>");if(e=jQuery(jQuery("<li value='"+d.id+"' data-id=\""+d.id+'"></li>')),"icon"in d){var g=jQuery('<i class="glyphicon glyphicon-'+d.icon+' dropdown-icon"></i>');f.prepend(g)}e.append(f)}this._childMap.set(d.id,e),e.appendTo(this._dropdownMenu),b&&(b=!1)}},b.prototype.getChildElement=function(a){return this._childMap.get(a)||null},b.prototype.getElement=function(){return jQuery().add(this._buttonElement).add(this._dropdownMenu)},b}(a.BootstrapButtonView);a.BootstrapDropdownView=b}(a.toolbar||(a.toolbar={}))}(a.widgets||(a.widgets={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={}));var mycore;!function(a){!function(a){!function(a){!function(a){var b=function(){function a(a){this._id=a,this._buttonElement=jQuery("<select></select>"),this._buttonElement.addClass("btn btn-default navbar-btn dropdown"),this._childMap=new MyCoReMap}return a.prototype.updateButtonLabel=function(a){},a.prototype.updateButtonTooltip=function(a){},a.prototype.updateButtonIcon=function(a){},a.prototype.updateButtonClass=function(a){},a.prototype.updateButtonActive=function(a){},a.prototype.updateButtonDisabled=function(a){},a.prototype.updateChilds=function(a){this._childMap.forEach(function(a,b){b.remove()}),this._childMap.clear();for(var b in a){var c=a[b],d=jQuery("<option value='"+c.id+"' data-id=\""+c.id+'">'+c.label+"</option>");this._childMap.set(c.id,d),d.appendTo(this._buttonElement)}},a.prototype.getChildElement=function(a){return this._childMap.get(a)||null},a.prototype.getElement=function(){return jQuery().add(this._buttonElement).add(this._buttonElement)},a}();a.BootstrapLargeDropdownView=b}(a.toolbar||(a.toolbar={}))}(a.widgets||(a.widgets={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={}));var mycore;!function(a){!function(a){!function(a){!function(a){var b=function(){function a(a){var b=this;this._id=a,this.onChange=null,this.element=jQuery("<form></form>"),this.element.addClass("navbar-form"),this.element.css({display:"inline-block"}),this.childText=jQuery("<input type='text' class='form-control'/>"),this.childText.appendTo(this.element),this.childText.keydown(function(a){13==a.keyCode&&a.preventDefault()}),this.childText.keyup(function(a){a.keyCode&&27==a.keyCode&&(b.childText.val(""),b.childText.blur()),null!=b.onChange&&b.onChange()})}return a.prototype.updateValue=function(a){this.childText.val(a)},a.prototype.getValue=function(){return this.childText.val()},a.prototype.getElement=function(){return this.element},a.prototype.updatePlaceholder=function(a){this.childText.attr("placeholder",a)},a}();a.BootstrapTextInputView=b}(a.toolbar||(a.toolbar={}))}(a.widgets||(a.widgets={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={}));var mycore;!function(a){!function(a){!function(a){!function(a){var b=function(){function a(){this._toolbar=jQuery("<section></section>"),this._toolbar.addClass("navbar navbar-default")}return a.prototype.addChild=function(a){this._toolbar.append(a)},a.prototype.removeChild=function(a){a.remove()},a.prototype.getElement=function(){return this._toolbar},a}();a.BootstrapToolbarView=b}(a.toolbar||(a.toolbar={}))}(a.widgets||(a.widgets={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={}));var mycore;!function(a){!function(a){!function(a){!function(a){var b=function(){function b(){}return b.prototype.createToolbarView=function(){return new a.BootstrapToolbarView},b.prototype.createTextView=function(b){return new a.BootstrapTextView(b)},b.prototype.createImageView=function(b){return new a.BootstrapImageView(b)},b.prototype.createGroupView=function(b,c){return new a.BootstrapGroupView(b,c)},b.prototype.createDropdownView=function(b){return new a.BootstrapDropdownView(b)},b.prototype.createLargeDropdownView=function(b){return new a.BootstrapLargeDropdownView(b)},b.prototype.createButtonView=function(b){return new a.BootstrapButtonView(b)},b.prototype.createTextInputView=function(b){return new a.BootstrapTextInputView(b)},b}();a.BootstrapToolbarViewFactory=b,a.ToolbarViewFactoryImpl=new b}(a.toolbar||(a.toolbar={}))}(a.widgets||(a.widgets={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={})),console.log("DESKTOP MODULE");