var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},mycore;!function(a){!function(a){!function(a){var b=function(a){function b(){a.call(this,"MyCoReMobileToolbar")}return __extends(b,a),b.prototype.addComponents=function(){this.addGroup(this._sidebarControllGroup),this.addGroup(this._zoomControllGroup),viewerDeviceSupportTouch&&(this._zoomControllGroup.removeComponent(this._zoomInButton),this._zoomControllGroup.removeComponent(this._zoomOutButton),this._zoomControllGroup.removeComponent(this._rotateButton)),this.addGroup(this._actionControllGroup),this.addGroup(this._closeViewerGroup),this.changeIcons()},b.prototype.changeIcons=function(){this._zoomInButton.icon="search-plus",this._zoomOutButton.icon="search-minus",this._zoomFitButton.icon="expand",this._zoomWidthButton.icon="arrows-h",this._closeViewerButton.icon="power-off",this._rotateButton.icon="rotate-right"},b}(a.MyCoReBasicToolbarModel);a.MyCoReMobileToolbarModel=b}(a.model||(a.model={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={}));var mycore;!function(a){!function(b){!function(b){var c=function(c){function d(a){c.call(this),this._settings=a}return __extends(d,c),Object.defineProperty(d.prototype,"handlesEvents",{get:function(){return[]},enumerable:!0,configurable:!0}),d.prototype.init=function(){this.trigger(new b.events.ProvideToolbarModelEvent(this,new a.viewer.model.MyCoReMobileToolbarModel))},d}(b.ViewerComponent);b.MyCoReMobileToolbarProviderComponent=c}(b.components||(b.components={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={})),addViewerComponent(mycore.viewer.components.MyCoReMobileToolbarProviderComponent);var mycore;!function(a){!function(a){!function(a){!function(a){var b=function(){function a(a,b){this.images=a,this.selected=b,this._lastPosition=0}return a}();a.ImagebarModel=b}(a.imagebar||(a.imagebar={}))}(a.widgets||(a.widgets={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={}));var mycore;!function(a){!function(a){!function(a){!function(a){var b=function(){function a(a,b){this._imageSelectedCallback=b,this._idElementMap=new MyCoReMap,this._lastSelectedId="",this._container=jQuery("<div></div>"),this._container.addClass("imagebar"),a.append(this._container),this.registerEvents()}return a.prototype.registerEvents=function(){var a=this,b=!1,c=0,d=function(f){b=!1;var g=c;a._imageSelectedCallback(g,!1),a._container.removeClass("selecting"),f.preventDefault(),jQuery(window.document.body).unbind("touchmove",e),jQuery(window.document.body).unbind("touchend",d)},e=function(d){if(b){var e=d.originalEvent.targetTouches[0].pageX;a._imageSelectedCallback(e,!0),c=e}d.preventDefault()},f=function(f){c=f.originalEvent.targetTouches[0].pageX,b=!0,a._container.addClass("selecting"),f.preventDefault(),jQuery(window.document.body).bind("touchmove",e),jQuery(window.document.body).bind("touchend",d)};this._container.bind("touchstart",f)},a.prototype.addImage=function(a,b,c){var d=jQuery("<img />");if(d.attr("data-id",a),d.attr("src",b),d.addClass("miniImage"),this.viewportWidth/2>c)d.css({left:c});else{var e=this.viewportWidth-c-18;d.css({right:e})}this._container.append(d),this._idElementMap.set(a,d)},a.prototype.removeImage=function(a){var b=this._idElementMap.get(a);void 0!==b&&(b.attr("src",""),b.remove())},a.prototype.setSelectedImage=function(a,b,c){""!=this._lastSelectedId&&this.removeImage(this._lastSelectedId),this.addImage(a,b,c),this._idElementMap.get(a).addClass("selected"),this._lastSelectedId=a},Object.defineProperty(a.prototype,"viewportWidth",{get:function(){return this._container.width()},enumerable:!0,configurable:!0}),a.prototype.removeAllImages=function(){var a=this;this._idElementMap.forEach(function(b,c){a.removeImage(b)}),this._idElementMap.clear()},Object.defineProperty(a.prototype,"containerElement",{get:function(){return this._container},enumerable:!0,configurable:!0}),a}();a.ImagebarView=b}(a.imagebar||(a.imagebar={}))}(a.widgets||(a.widgets={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={}));var mycore;!function(a){!function(b){!function(b){!function(b){var c=function(){function b(b,c,d,e,f){this._container=b,this._urlPrefix=f,this._model=new a.viewer.widgets.imagebar.ImagebarModel(c,d);var g=this;this._view=new a.viewer.widgets.imagebar.ImagebarView(b,function(a,b){b?g._imageSelected(a):e(g.getImageForPosition(a))}),this.insertImages();var g=this;jQuery(window).bind("resize",function(){g.insertImages(),g.setImageSelected(g._model.selected)}),this.setImageSelected(d)}return b.prototype.insertImages=function(){this._view.removeAllImages();var a=this._model.images.length,c=this._view.viewportWidth,d=Math.floor(c/b.IMAGE_WIDTH),e=0;d>a&&(d=a,e=c/d/2);for(var f=Math.max(Math.floor(a/d),1),g=0;g<d;g++){var h=this._model.images[g*f];this.addImage(h,c/d*g+e)}},b.prototype.addImage=function(a,b){var c=this;a.requestImgdataUrl(function(d){c._view.addImage(a.id,d,b)})},b.prototype.getImageForPosition=function(a){var b=this._model.images.length,c=this._view.viewportWidth,d=Math.floor(a/(c/b));return this._model.images[d]},b.prototype.getPositionOfImage=function(a){var b=this._model.images.indexOf(a),c=this._model.images.length;return this._view.viewportWidth/c*b},b.prototype._imageSelected=function(a){var b=this,c=this.getImageForPosition(a);this._model._lastPosition=a;var d=this;void 0!==c&&c.requestImgdataUrl(function(e){d._model._lastPosition==a&&b._view.setSelectedImage(c.id,e,a)})},b.prototype.setImageSelected=function(a){this._model.selected=a,this._imageSelected(this.getPositionOfImage(a))},Object.defineProperty(b.prototype,"view",{get:function(){return this._view.containerElement},enumerable:!0,configurable:!0}),b.IMAGE_WIDTH=20,b}();b.IviewImagebar=c}(b.imagebar||(b.imagebar={}))}(b.widgets||(b.widgets={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={}));var mycore;!function(a){!function(b){!function(b){var c=function(c){function d(a,d){c.call(this),this._settings=a,this._container=d,this._settings.mobile&&this.trigger(new b.events.WaitForEvent(this,b.events.StructureModelLoadedEvent.TYPE))}return __extends(d,c),d.prototype._init=function(c){var d,e=this,f=this._settings.filePath;"/"==f.charAt(0)&&(f=f.substr(1));for(var g in c){var h;h=c[g],h.href==f&&(d=h)}var i=this;this._imagebar=new a.viewer.widgets.imagebar.IviewImagebar(this._container,c,d,function(a){e.trigger(new b.events.ImageSelectedEvent(i,a))},this._settings.tileProviderPath+this._settings.derivate+"/"),this.trigger(new b.events.ComponentInitializedEvent(this))},Object.defineProperty(d.prototype,"content",{get:function(){return this._container},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"handlesEvents",{get:function(){return this._settings.mobile?[b.events.StructureModelLoadedEvent.TYPE,b.events.ImageChangedEvent.TYPE,b.events.CanvasTapedEvent.TYPE]:[]},enumerable:!0,configurable:!0}),d.prototype.handle=function(a){if(a.type==b.events.StructureModelLoadedEvent.TYPE){var c=a.structureModel._imageList;this._model=c;var d=c;this._init(d)}if(a.type==b.events.ImageChangedEvent.TYPE){var e=a;void 0!==this._imagebar&&this._imagebar.setImageSelected(e.image)}a.type==b.events.CanvasTapedEvent.TYPE&&this._imagebar.view.slideToggle()},d}(b.ViewerComponent);b.MyCoReImagebarComponent=c}(b.components||(b.components={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={})),addViewerComponent(mycore.viewer.components.MyCoReImagebarComponent);var mycore;!function(a){!function(a){!function(b){var c=function(c){function d(a){c.call(this),this._settings=a}return __extends(d,c),Object.defineProperty(d.prototype,"handlesEvents",{get:function(){return[]},enumerable:!0,configurable:!0}),d.prototype.init=function(){this.trigger(new b.events.ProvidePageLayoutEvent(this,new a.widgets.canvas.SinglePageLayout,!0))},d}(b.ViewerComponent);b.MyCoRePageMobileLayoutProviderComponent=c}(a.components||(a.components={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={})),addViewerComponent(mycore.viewer.components.MyCoRePageMobileLayoutProviderComponent);var mycore;!function(a){!function(a){!function(a){!function(a){var b=function(){function a(a,b){this._element=jQuery("<div></div>"),this._element.addClass("group"),this._element.attr("data-id",a),this._element.css({float:b})}return a.prototype.addChild=function(a){this._element.append(a)},a.prototype.removeChild=function(a){a.remove()},a.prototype.getElement=function(){return this._element},a}();a.MobileGroupView=b}(a.toolbar||(a.toolbar={}))}(a.widgets||(a.widgets={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={}));var mycore;!function(a){!function(a){!function(a){!function(a){var b=function(){function a(a){this._id=a,this._buttonElement=jQuery("<div></div>"),this._buttonElement.addClass("dropdown"),this._buttonElementInner=jQuery("<span></span>"),this._buttonElementInner.addClass("fa fa-bars"),this._buttonElementInner.appendTo(this._buttonElement),this._dropdown=jQuery("<select></select>"),this._dropdown.appendTo(this._buttonElement);var b=jQuery("<option selected disabled hidden value=''></option>");b.css({display:"none"}),b.appendTo(this._dropdown),this._childMap=new MyCoReMap}return a.prototype.updateButtonLabel=function(a){},a.prototype.updateButtonTooltip=function(a){},a.prototype.updateButtonIcon=function(a){},a.prototype.updateButtonClass=function(a){},a.prototype.updateButtonActive=function(a){},a.prototype.updateButtonDisabled=function(a){},a.prototype.updateChilds=function(a){this._childMap.forEach(function(a,b){b.remove()}),this._childMap.clear();for(var b in a){var c=a[b],d=jQuery("<option value='"+c.id+"' data-id=\""+c.id+'">'+c.label+"</option>");this._childMap.set(c.id,d),d.appendTo(this._dropdown)}},a.prototype.getChildElement=function(a){return this._childMap.get(a)||null},a.prototype.getElement=function(){return jQuery().add(this._buttonElement)},a}();a.MobileDropdownView=b}(a.toolbar||(a.toolbar={}))}(a.widgets||(a.widgets={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={}));var mycore;!function(a){!function(a){!function(a){!function(a){var b=function(){function a(a){this._lastIcon="",this._buttonElement=jQuery("<a></a>"),this._buttonElement.addClass("button"),this._buttonElement.attr("data-id",a),this._buttonLabel=jQuery("<span></span>"),this._buttonLabel.addClass("buttonLabel"),this._buttonElement.append(this._buttonLabel),this._buttonIcon=jQuery("<span></span>"),this._buttonElement.append(this._buttonIcon)}return a.prototype.updateButtonLabel=function(a){this._buttonLabel.text(a)},a.prototype.updateButtonTooltip=function(a){},a.prototype.updateButtonIcon=function(a){this._buttonIcon.removeClass("fa"),this._buttonIcon.removeClass("fa-"+this._lastIcon),this._buttonIcon.removeClass("icon-"+this._lastIcon),this._lastIcon=a,this._buttonIcon.addClass("fa"),this._buttonIcon.addClass("fa-"+a),this._buttonIcon.addClass("icon-"+a)},a.prototype.updateButtonClass=function(a){},a.prototype.updateButtonActive=function(a){},a.prototype.updateButtonDisabled=function(a){},a.prototype.getElement=function(){return this._buttonElement},a}();a.MobileButtonView=b}(a.toolbar||(a.toolbar={}))}(a.widgets||(a.widgets={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={}));var mycore;!function(a){!function(a){!function(a){!function(a){var b=function(){function a(){this._toolbar=jQuery("<div></div>"),this._toolbar.addClass("mobile-toolbar")}return a.prototype.addChild=function(a){this._toolbar.append(a)},a.prototype.removeChild=function(a){a.remove()},a.prototype.getElement=function(){return this._toolbar},a}();a.MobileToolbarView=b}(a.toolbar||(a.toolbar={}))}(a.widgets||(a.widgets={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={}));var mycore;!function(a){!function(a){!function(a){!function(a){var b=function(){function b(){}return b.prototype.createTextInputView=function(a){throw new ViewerError("text input view not supported by Mobile!")},b.prototype.createToolbarView=function(){return new a.MobileToolbarView},b.prototype.createTextView=function(a){throw new ViewerError("text view not supported by Mobile!")},b.prototype.createImageView=function(a){throw new ViewerError("image view not supported by Mobile!")},b.prototype.createGroupView=function(b,c){return new a.MobileGroupView(b,c)},b.prototype.createDropdownView=function(b){return new a.MobileDropdownView(b)},b.prototype.createLargeDropdownView=function(b){return new a.MobileDropdownView(b)},b.prototype.createButtonView=function(b){return new a.MobileButtonView(b)},b}();a.MobileToolbarViewFactory=b,a.ToolbarViewFactoryImpl=new b}(a.toolbar||(a.toolbar={}))}(a.widgets||(a.widgets={}))}(a.viewer||(a.viewer={}))}(mycore||(mycore={})),console.log("MOBILE MODULE");